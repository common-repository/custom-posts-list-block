!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n(2),l=(n.n(o),n(3)),__=(n.n(l),wp.i18n.__),a=wp.blocks.registerBlockType,s=wp.components,i=s.SelectControl,u=s.RangeControl,c=s.PanelBody,p=s.PanelRow,m=s.ToggleControl,g=wp.blockEditor,b=g.InspectorControls,w=g.useBlockProps,d=g.AlignmentToolbar,f=g.BlockControls,h=g.ColorPalette,y=wp,E=y.serverSideRender;a("cm/custom-posts-list",{apiVersion:2,title:__("Custom Posts List"),icon:"shield",category:"common",keywords:[__("Latest Posts"),__("Recent Posts"),__("New Posts")],attributes:{categories:{type:"object"},selectedCategory:{type:"integer",default:1},postsPerPage:{type:"integer",default:5},showImage:{type:"boolean",default:1},showCategoryList:{type:"boolean",default:1},showExcerpt:{type:"boolean",default:1},showReadMore:{type:"boolean",default:1},excerptLength:{type:"integer",default:100},textAlign:{type:"string",default:"left"},bgColor:{type:"string",default:"#f00"}},edit:function(e){if(e.attributes.categories||wp.apiFetch({url:cmplGlobal.site_url+"/wp-json/wp/v2/categories?per_page=100"}).then(function(t){e.setAttributes({categories:t})}),!e.attributes.categories)return __("Loading...");if(e.attributes.categories&&0===e.attributes.categories.length)return __("No categories found. Please add some!");var t=w(),n=e.attributes,o=(n.categories,r(n,["categories"]));return[wp.element.createElement(b,null,wp.element.createElement(c,{title:__("Posts Settings")},wp.element.createElement(p,null,wp.element.createElement(i,{label:__("Category:"),value:e.attributes.selectedCategory,style:{width:"100%"},onChange:function(t){return e.setAttributes({selectedCategory:parseInt(t)})},options:function(){var t=[];return e.attributes.categories.forEach(function(e,n,r){t.push({value:e.id,label:e.name})}),t}()})),wp.element.createElement(p,null,wp.element.createElement(u,{value:e.attributes.postsPerPage,style:{width:"100%"},label:__("Posts Per Page:"),min:2,max:20,onChange:function(t){return e.setAttributes({postsPerPage:parseInt(t)})}})),wp.element.createElement(p,null,wp.element.createElement(m,{label:__(e.attributes.showImage?"Hide Image":"Show Image"),checked:e.attributes.showImage,onChange:function(t){return e.setAttributes({showImage:t})}})),wp.element.createElement(p,null,wp.element.createElement(m,{label:__(e.attributes.showCategoryList?"Hide Category List":"Show Category List"),checked:e.attributes.showCategoryList,onChange:function(t){return e.setAttributes({showCategoryList:t})}})),wp.element.createElement(p,null,wp.element.createElement(m,{label:__(e.attributes.showExcerpt?"Hide Excerpt":"Show Excerpt"),checked:e.attributes.showExcerpt,onChange:function(t){return e.setAttributes({showExcerpt:t})}})),1==e.attributes.showExcerpt&&wp.element.createElement(p,null,wp.element.createElement(u,{value:e.attributes.excerptLength,style:{width:"100%"},label:__("Excerpt Length:"),min:50,max:250,step:50,type:"stepper",onChange:function(t){return e.setAttributes({excerptLength:parseInt(t)})}})),wp.element.createElement(p,null,wp.element.createElement(m,{label:__(e.attributes.showReadMore?"Hide Read More":"Show Read More"),checked:e.attributes.showReadMore,onChange:function(t){return e.setAttributes({showReadMore:t})}})),wp.element.createElement(p,null,wp.element.createElement(h,{colors:[{name:"red",color:"#f00"},{name:"green",color:"#0f0"},{name:"blue",color:"#00f"}],value:e.attributes.bgColor,style:{width:"100%"},onChange:function(t){return e.setAttributes({bgColor:t})}})),wp.element.createElement(f,null,wp.element.createElement(d,{value:e.attributes.textAlign,onChange:function(t){return e.setAttributes({textAlign:t})}})))),wp.element.createElement("div",t,wp.element.createElement(E,{block:"cm/custom-posts-list",attributes:o}))]},save:function(e){return null}})},function(e,t){},function(e,t){}]);